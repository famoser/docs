<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>Enterprise architectures - Docs</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Enterprise architectures";
        var mkdocs_page_input_path = "develop/web/enterprise architectures.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> Docs
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../..">Welcome to Docs</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Communicate</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../communicate/argumentation/">Argumentation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../communicate/negotiation/">Negotiation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../communicate/non-violent%20communication/">constructive feedback</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../communicate/professional%20communication/">Communicate</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../communicate/rhetorics/">Rhetorics</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../communicate/teams/">Teams</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Books</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../communicate/books/crucial%20conversations/">crucial conversations</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../communicate/books/die%20kunst%20recht%20zu%20behalten/">die kunst recht zu behalten</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../communicate/books/four%20types%20of%20human%20behaviour/">four types of human behaviour</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../communicate/books/getting%20to%20yes/">getting to yes</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../communicate/books/never%20split%20the%20difference/">never split the difference</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../communicate/books/online%20interaktionen/">online interaktionen</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../communicate/books/thinking%20fast%20and%20slow/">thinking fast and slow</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Courses</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../communicate/courses/decisions/">Decisions</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../communicate/courses/speech/">Rhetoric</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Web</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../communicate/web/liberation%20structures/">Liberation structures</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Cooking</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../cooking/backen/">brot</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../cooking/grundrezepte/">Cooking</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../cooking/links/">Links</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../cooking/rezepte/">Rezepte</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Develop</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../../architecture/">Architecture</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../design/">Design</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../docs/">documentation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../links/">Links</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../patterns/">Patterns</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../testing/">Testing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../">Web</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Books</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../books/clean%20code/">Clean code</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../books/code%20complete/">Software development process</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../books/lateral%20thinking/">lateral thinking</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Web</a>
    <ul class="current">
                <li class="toctree-l2 current"><a class="reference internal current" href="./">Enterprise architectures</a>
    <ul class="current">
    <li class="toctree-l3"><a class="reference internal" href="#consistency-guidelines">Consistency guidelines</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#domain-driven-design">Domain driven design</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#microservices">Microservices</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#event-sourcing">Event sourcing</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#cqrs-command-query-responsibility-segregation">CQRS (command query responsibility segregation)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#command-event-separation">Command / Event separation</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#onion">Onion</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#hexagonal-adapter-ports">Hexagonal (adapter &amp; ports)</a>
    </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../forensic%20incident%20note%20taking/">Forensic incident node taking</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Non work</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../non-work/entertainment/">Entertainment</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../non-work/links/">Links</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../non-work/music/">Music</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../non-work/personal_development/">Personal development</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Work</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../work/manage/">Project management</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../work/money/">Money</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../work/research/">Research</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../work/teach/">Teach</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">Docs</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Develop</li>
          <li class="breadcrumb-item">Web</li>
      <li class="breadcrumb-item active">Enterprise architectures</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="enterprise-architectures">Enterprise architectures</h1>
<p>When a framework alone is not enough to handle complexity / workload, you need more powerful patterns.</p>
<h2 id="consistency-guidelines">Consistency guidelines</h2>
<p>be aware of the stability of the environment and take precautions (experimental technologies need a time buffer to account for bugs in tooling).</p>
<p>define code style, tool chain, testing approach (TDD or similar) and definition of done. use conventions to prevent religious wars.</p>
<p>define error processing:</p>
<ul>
<li>corrective (try to continue) / detective (fail)</li>
<li>active (plausibility checks) / passive (fail if no way to continue)</li>
<li>propagation (fail at first invalid input or after checking all)</li>
<li>consistent error messages</li>
</ul>
<h2 id="domain-driven-design">Domain driven design</h2>
<p>eases the development by introducing knowledge about the business process in the application naming / class concept, down to the database.</p>
<p>Entities are transformed to fit the domain they are using in (for example, while accounting needs the address of a person, the authentication only needs username/password).</p>
<p>A developer now only needs to understand the domain he is currently working in, and can ignore the other parts of the application. Naming of variables and hierarchic structures can be adjusted to the business case. At the same time, other parts of the application can evolve easily in their respective domain, as their changes (like new fields, objects) need not to be propagated into other domains.</p>
<p>The downsides include the maintenance of the transformation logic and alignment efforts when business terminology changes.</p>
<h2 id="microservices">Microservices</h2>
<p>decouples parts of the application in separate services connected via a REST interface.</p>
<p>The services expose a REST interface to be accessed by the other services. Internally, the services may differ in architecture, database, technology, ...</p>
<p>This setup eases updates, as single services can be replaced one after another. If a service of a specific type is behind a load balancer, it is also possible to use more or less instances of said service depending on the demand.</p>
<p>The downsides include that services may never be able to change their interface once specified, as they do not know which services use it.</p>
<h2 id="event-sourcing">Event sourcing</h2>
<p>formulate all changes in event. interested parties listen to specific events and update their local state accordingly.</p>
<p>all events are saved, and can be replayed to reproduce bugs or recalculate state after a bugfix.</p>
<h2 id="cqrs-command-query-responsibility-segregation">CQRS (command query responsibility segregation)</h2>
<p>separate the command and query model, unlocking the ability to optimize each model for their specific use cases.</p>
<p>the command model updates the database according to user commands.</p>
<p>the query model gather data from the database for display.</p>
<h2 id="command-event-separation">Command / Event separation</h2>
<p>separate commands (actions which modify state) and events (results of such actions) to ease scalability.</p>
<p>Commands are created to perform changes in the database or execute other actions. The command handler, upon completion, publishes events with the result of the modification which are received by all interested parties.</p>
<p>This setup allows to separate applications/components which modify state (those who execute the business logic attached to a specific command) from application which only need to process state (those who display to the user or evaluate data).</p>
<p>The commands can also be stored for auditing purposes, effectively giving a chain of actions executed by a user independent of the origin of such a command.</p>
<p>It eases domain driven design, as the event handlers which contain the new state are the perfect access point to transform the received entities from possible other parts of the application to the structure the active domain fits best.</p>
<p>The downsides include similar problems than with most distributed systems; reordering of events or consistency issues if an event is lost or not processed fully yet (one command may provokes multiple different events, which themselves have again side effects the user has to wait for). Similar to services, it is also unclear (by design!) which components consume the events and commands.</p>
<p>To battle the downsides, carefully design how the events/commands transfer is setup, for example using a message queue which provides the required properties. Avoid complex events/commands and exposing domain-private information to avoid having to propagate changes inside the domain to others.</p>
<h2 id="onion">Onion</h2>
<p>use layers to separate different kind of logic (presentation, business, domain).</p>
<p>The Domain layer is the innermost layer, containing entities and, if DDD is used, some of the logic to apply changes to those entities. The next outer layer is the domain service layer, providing together with the application service layer the business features. The outermost layer contains the IO, like presentation or database access.</p>
<p>If strict layering is used, then the outer layer may only access the next inner layer. If loose layering is used, then an outer layers may access any inner layer. It is never allowed to reverse the call chain; if logic from the outside is needed, an interface implementation can be requested by the inner layer.</p>
<p>This design eases separation of concern, ease testing and makes it easier to replace a layer if necessary. The strict layering makes these advantages even more strict.</p>
<p>The downsides include that mapping efforts may increase substantially; the same entity may exist in multiple layers and needs to be mapped each time it is passed to an inner layer (as this layer is not allowed to access the outer source).</p>
<p>To battle the downsides, allow loose layering (at the cost that it is easier for an outer layer to access/modify something from an inner layer it is not supposed to). </p>
<h2 id="hexagonal-adapter-ports">Hexagonal (adapter &amp; ports)</h2>
<p>structure the application around use cases which fully define how they interact with the environment (both in- and output).</p>
<p>The business logic sits inside the "hexagon". It defines interfaces to interact with the outside. These touch points with the outside are composed of ports (an interface) and adapters (an implementation of that interface). As the inside defines the interfaces, it does not have any dependency to the outside.</p>
<p>Advantages of that approach include that a use case can be separated cleanly from others, and makes structuring the application by use case easy. It is easily testable as dependencies from a single use cases can be mocked simply. To replace dependencies from a single use cases is easy, hence even larger technology migrations can be done incrementally without touching the business logic.</p>
<p>The downsides include that for each hexagon, many potentially similar entities (and hence mappings) need to be created. Also, many very specific interfaces need to be implemented.</p>
<p>To battle the downsides, you may include multiple similar use cases in the same hexagon. If abstracted properly pure technicalities may also be shared by multiple hexagons.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../../books/lateral%20thinking/" class="btn btn-neutral float-left" title="lateral thinking"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../forensic%20incident%20note%20taking/" class="btn btn-neutral float-right" title="Forensic incident node taking">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../../books/lateral%20thinking/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../forensic%20incident%20note%20taking/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../../..";</script>
    <script src="../../../js/theme_extra.js"></script>
    <script src="../../../js/theme.js"></script>
      <script src="../../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
